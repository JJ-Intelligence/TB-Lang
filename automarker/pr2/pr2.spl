-- Challenge 2

-- Only accept streams a b c
setIn([0,1,2]);

type solve (*Stream, *Stream, *Stream) -> [Int];
func solve (*(a:as), *(b:bs), *(c:cs)) = [c, b, a, a+b, b+c];

-- While there's enough input
while (!isEmpty(in(0)) && !isEmpty(in(1)) && !isEmpty(in(2))) {
    out(solve(in(0), in(1), in(2)));
};